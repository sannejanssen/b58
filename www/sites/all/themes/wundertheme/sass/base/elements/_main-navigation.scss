/**
 * Main navigation
 *
 * Table of contents
 * --------------------
 * 1. Design
 * 2. Layout
 *
 */

/* LAYOUT */

/* Dropdown navigation */
div.main-dropdown {
  display: none;

  h2 {
    @include element-invisible;
  }

  /* iPad landscape */
  @include at-breakpoint($breakpoint_3) {
    display: block;
    ul {
      float: right;
    }
  }
}

/* Responsive navigation */
nav.main-responsive {
  @include span-columns(12);
  
  h2 {
    @include element-invisible;
  }

  .menu {
    li {
      display: block;
      width: 100%;

      a {
        display: block;
        width: 100%;
      }
    }
  }

  #navigationtoggle {
    display: block;
    width: 50px;
    height: 50px;
    position: absolute;
    top: -50px;
    right: 0;
  }

  /* iPad landscape */
  @include at-breakpoint($breakpoint_3) {
    /* Hide basic navigation & show dropdown */
    display: none;
  }
}

/* DESIGN */

/* Dropdown navigation */
div.main-dropdown {
  margin-top: 55px;
  > ul {
    > li {
      margin-left: 2px;
      
      a {
        text-transform: uppercase;
        font-weight: 300;
        font-size: 1.294em; /* 22px on a 17px base font size */
        font-size: 20px;

        background-color: $blue;
        color: $white;
        padding: 0.682em; /* 15px on a 22px base font size */

        @include breakpoint(65em) {
          font-size: 1.294em; /* 22px on a 17px base font size */
        }

        &:hover,
        &:focus,
        &.active {
          text-decoration: none;
          background-color: $blue-grey;
        }
      }

      &.active-trail > a {
        background-color: $blue-grey;
      }

      &.last {
        a {
          background-color: $white;
          border: 1px solid $blue;
          color: $blue;
          text-transform: none;
          font-size: 16px;
          padding: 0.889em 15px; /* 16px 15px on a 18px base font size */

          @include breakpoint(65em) {
            font-size: 1.059em; /* 18px on a 17px base font size */
          }
        }
      }

      ul {
        li {
          background-color: $blue;
          padding: 0 0.294em; /* 5px on a 17px base font size */
          
          &.first {
            padding-top: 0.294em; /* 5px on a 17px base font size */
          }
          &.last {
            padding-bottom: 0.294em; /* 5px on a 17px base font size */
          }

          &.firstandlast {
            padding-top: 0.294em; /* 5px on a 17px base font size */
            padding-bottom: 0.294em; /* 5px on a 17px base font size */
          }
          

          a {
            text-transform: none;
            font-size: 0.941em; /* 16px on a 17px base font size */
            padding: 0.588em; /* 10px on a 16px base font size */

            &:hover,
            &:focus,
            &.active {
              background-color: $white;
              color: $blue;
            }
          }
        }
      }
    }
  }

  .sf-menu.sf-horizontal.sf-shadow ul {
    padding-top: 0.706em !important; /* 12px on a 17px base font size */
    background-image: url('../images/dropdown-arrow.png');
    background-repeat: no-repeat;
    background-position: 1.765em 0; /* 30px on a 17px base font size */
    margin-top: 1.176em; /* 20px on a 17px base font size */
  }
}

/* Responsive navigation */
nav.main-responsive {
  .menu {
    li {
      background-color: $blue;

      a {
        color: #fff;
        padding: 0.882em; /* 15px on a 17px base font size */
      }
      
      li {
        background-color: #6fb7e2;

        a {
          padding-left: 1.471em; /* 25px on a 17px base font size */
        }
      }
    }

    #navigationtoggle {
      background-image:  url('../images/mobile-nav.png');
      background-image:  none,url('../images/mobile-nav.svg'), url('../images/mobile-nav.png');
      background-repeat: no-repeat;
      background-position: center;
      background-color: $blue;
      cursor: pointer;
    }
  }
}